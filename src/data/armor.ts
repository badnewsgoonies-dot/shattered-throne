import { ArmorData, ArmorSlot, ItemCategory } from '../shared/types';

interface ArmorSpec {
  id: string;
  name: string;
  description: string;
  slot: ArmorSlot;
  defense: number;
  resistance: number;
  weight: number;
  speedPenalty: number;
  cost: number;
  setId?: string;
}

function armor(spec: ArmorSpec): ArmorData {
  return {
    id: spec.id,
    name: spec.name,
    description: spec.description,
    category: ItemCategory.Armor,
    slot: spec.slot,
    defense: spec.defense,
    resistance: spec.resistance,
    weight: spec.weight,
    speedPenalty: spec.speedPenalty,
    cost: spec.cost,
    setId: spec.setId,
  };
}

export const ARMOR: ArmorData[] = [
  // Helmets (11)
  armor({
    id: 'iron_helm',
    name: 'Iron Helm',
    description: 'Basic iron head protection.',
    slot: ArmorSlot.Head,
    defense: 2,
    resistance: 0,
    weight: 3,
    speedPenalty: 0,
    cost: 300,
    setId: 'iron_set',
  }),
  armor({
    id: 'steel_helm',
    name: 'Steel Helm',
    description: 'Heavy steel helmet for frontliners.',
    slot: ArmorSlot.Head,
    defense: 4,
    resistance: 0,
    weight: 5,
    speedPenalty: 1,
    cost: 600,
    setId: 'steel_set',
  }),
  armor({
    id: 'silver_helm',
    name: 'Silver Helm',
    description: 'Well-balanced noble helm.',
    slot: ArmorSlot.Head,
    defense: 6,
    resistance: 1,
    weight: 4,
    speedPenalty: 0,
    cost: 1200,
    setId: 'silver_set',
  }),
  armor({
    id: 'bronze_helm',
    name: 'Bronze Helm',
    description: 'Simple training headgear.',
    slot: ArmorSlot.Head,
    defense: 1,
    resistance: 0,
    weight: 2,
    speedPenalty: 0,
    cost: 180,
  }),
  armor({
    id: 'mage_hat',
    name: 'Mage Hat',
    description: 'Cloth-lined hat embroidered with runes.',
    slot: ArmorSlot.Head,
    defense: 0,
    resistance: 3,
    weight: 1,
    speedPenalty: 0,
    cost: 400,
  }),
  armor({
    id: 'holy_crown',
    name: 'Holy Crown',
    description: 'A circlet blessed by the cathedral.',
    slot: ArmorSlot.Head,
    defense: 1,
    resistance: 5,
    weight: 2,
    speedPenalty: 0,
    cost: 1000,
  }),
  armor({
    id: 'ranger_cap',
    name: 'Ranger Cap',
    description: 'Light cap that keeps vision clear.',
    slot: ArmorSlot.Head,
    defense: 1,
    resistance: 1,
    weight: 1,
    speedPenalty: -1,
    cost: 550,
  }),
  armor({
    id: 'assassin_hood',
    name: 'Assassin Hood',
    description: 'Dark hood that muffles movement.',
    slot: ArmorSlot.Head,
    defense: 1,
    resistance: 2,
    weight: 1,
    speedPenalty: -1,
    cost: 800,
  }),
  armor({
    id: 'war_helm',
    name: 'War Helm',
    description: 'Thick-plated helm built for sieges.',
    slot: ArmorSlot.Head,
    defense: 5,
    resistance: 0,
    weight: 6,
    speedPenalty: 2,
    cost: 900,
  }),
  armor({
    id: 'dragon_helm',
    name: 'Dragon Helm',
    description: 'Scale-forged helm with high resilience.',
    slot: ArmorSlot.Head,
    defense: 4,
    resistance: 3,
    weight: 4,
    speedPenalty: 1,
    cost: 1600,
  }),
  armor({
    id: 'saint_mitre',
    name: 'Saint Mitre',
    description: 'Ceremonial headwear for high clerics.',
    slot: ArmorSlot.Head,
    defense: 1,
    resistance: 6,
    weight: 2,
    speedPenalty: 0,
    cost: 1700,
  }),

  // Chest (11)
  armor({
    id: 'iron_plate',
    name: 'Iron Plate',
    description: 'Reliable breastplate for infantry.',
    slot: ArmorSlot.Chest,
    defense: 3,
    resistance: 0,
    weight: 5,
    speedPenalty: 1,
    cost: 350,
    setId: 'iron_set',
  }),
  armor({
    id: 'steel_plate',
    name: 'Steel Plate',
    description: 'Heavy chest armor with high defense.',
    slot: ArmorSlot.Chest,
    defense: 5,
    resistance: 0,
    weight: 8,
    speedPenalty: 2,
    cost: 700,
    setId: 'steel_set',
  }),
  armor({
    id: 'silver_plate',
    name: 'Silver Plate',
    description: 'Refined armor with balanced weight.',
    slot: ArmorSlot.Chest,
    defense: 7,
    resistance: 1,
    weight: 6,
    speedPenalty: 1,
    cost: 1400,
    setId: 'silver_set',
  }),
  armor({
    id: 'bronze_plate',
    name: 'Bronze Plate',
    description: 'Starter chest armor for recruits.',
    slot: ArmorSlot.Chest,
    defense: 2,
    resistance: 0,
    weight: 4,
    speedPenalty: 1,
    cost: 220,
  }),
  armor({
    id: 'mage_robe',
    name: 'Mage Robe',
    description: 'Insulated robe that buffers magic.',
    slot: ArmorSlot.Chest,
    defense: 1,
    resistance: 4,
    weight: 2,
    speedPenalty: 0,
    cost: 450,
  }),
  armor({
    id: 'holy_robe',
    name: 'Holy Robe',
    description: 'Blessed cloth worn by healers.',
    slot: ArmorSlot.Chest,
    defense: 2,
    resistance: 6,
    weight: 3,
    speedPenalty: 0,
    cost: 1100,
  }),
  armor({
    id: 'ranger_cloak',
    name: 'Ranger Cloak',
    description: 'A weatherproof cloak for scouts.',
    slot: ArmorSlot.Chest,
    defense: 2,
    resistance: 2,
    weight: 2,
    speedPenalty: -1,
    cost: 700,
  }),
  armor({
    id: 'assassin_garb',
    name: 'Assassin Garb',
    description: 'Flexible wear for high mobility.',
    slot: ArmorSlot.Chest,
    defense: 2,
    resistance: 2,
    weight: 2,
    speedPenalty: -2,
    cost: 950,
  }),
  armor({
    id: 'guardian_mail',
    name: 'Guardian Mail',
    description: 'Solid armor used by castle guards.',
    slot: ArmorSlot.Chest,
    defense: 6,
    resistance: 2,
    weight: 7,
    speedPenalty: 2,
    cost: 1300,
  }),
  armor({
    id: 'dragon_scale',
    name: 'Dragon Scale',
    description: 'Scale armor tempered for elemental combat.',
    slot: ArmorSlot.Chest,
    defense: 5,
    resistance: 4,
    weight: 6,
    speedPenalty: 1,
    cost: 1800,
  }),
  armor({
    id: 'saint_vestments',
    name: 'Saint Vestments',
    description: 'Luxurious robes with holy wards.',
    slot: ArmorSlot.Chest,
    defense: 2,
    resistance: 7,
    weight: 3,
    speedPenalty: 0,
    cost: 1900,
  }),

  // Boots (11)
  armor({
    id: 'iron_boots',
    name: 'Iron Boots',
    description: 'Standard iron greaves.',
    slot: ArmorSlot.Boots,
    defense: 1,
    resistance: 0,
    weight: 3,
    speedPenalty: 0,
    cost: 260,
    setId: 'iron_set',
  }),
  armor({
    id: 'steel_boots',
    name: 'Steel Boots',
    description: 'Heavy greaves with added protection.',
    slot: ArmorSlot.Boots,
    defense: 2,
    resistance: 0,
    weight: 5,
    speedPenalty: 1,
    cost: 520,
    setId: 'steel_set',
  }),
  armor({
    id: 'silver_boots',
    name: 'Silver Boots',
    description: 'Fine greaves with improved balance.',
    slot: ArmorSlot.Boots,
    defense: 3,
    resistance: 1,
    weight: 4,
    speedPenalty: 0,
    cost: 1000,
    setId: 'silver_set',
  }),
  armor({
    id: 'leather_boots',
    name: 'Leather Boots',
    description: 'Light boots for agile movement.',
    slot: ArmorSlot.Boots,
    defense: 0,
    resistance: 0,
    weight: 1,
    speedPenalty: -1,
    cost: 180,
  }),
  armor({
    id: 'winged_boots',
    name: 'Winged Boots',
    description: 'Feathered boots that improve speed by one tier.',
    slot: ArmorSlot.Boots,
    defense: 1,
    resistance: 0,
    weight: 1,
    speedPenalty: -1,
    cost: 1500,
  }),
  armor({
    id: 'cavalry_greaves',
    name: 'Cavalry Greaves',
    description: 'Reinforced greaves for mounted units.',
    slot: ArmorSlot.Boots,
    defense: 2,
    resistance: 1,
    weight: 3,
    speedPenalty: 0,
    cost: 820,
  }),
  armor({
    id: 'mage_sandals',
    name: 'Mage Sandals',
    description: 'Soft sandals that preserve casting focus.',
    slot: ArmorSlot.Boots,
    defense: 0,
    resistance: 2,
    weight: 1,
    speedPenalty: 0,
    cost: 500,
  }),
  armor({
    id: 'shadow_boots',
    name: 'Shadow Boots',
    description: 'Boots that soften footfalls.',
    slot: ArmorSlot.Boots,
    defense: 1,
    resistance: 1,
    weight: 1,
    speedPenalty: -2,
    cost: 1200,
  }),
  armor({
    id: 'fortress_greaves',
    name: 'Fortress Greaves',
    description: 'Bulky greaves favored by generals.',
    slot: ArmorSlot.Boots,
    defense: 3,
    resistance: 0,
    weight: 6,
    speedPenalty: 2,
    cost: 900,
  }),
  armor({
    id: 'dragon_boots',
    name: 'Dragon Boots',
    description: 'Scale-forged boots with elemental resistance.',
    slot: ArmorSlot.Boots,
    defense: 2,
    resistance: 2,
    weight: 3,
    speedPenalty: 0,
    cost: 1400,
  }),
  armor({
    id: 'saint_boots',
    name: 'Saint Boots',
    description: 'Consecrated footwear used by bishops.',
    slot: ArmorSlot.Boots,
    defense: 1,
    resistance: 3,
    weight: 2,
    speedPenalty: 0,
    cost: 1450,
  }),

  // Accessories (11)
  armor({
    id: 'shield_ring',
    name: 'Shield Ring',
    description: 'A ring that adds protective aura.',
    slot: ArmorSlot.Accessory,
    defense: 2,
    resistance: 0,
    weight: 0,
    speedPenalty: 0,
    cost: 900,
    setId: 'steel_set',
  }),
  armor({
    id: 'speed_ring',
    name: 'Speed Ring',
    description: 'Counteracts speed penalties from heavy gear.',
    slot: ArmorSlot.Accessory,
    defense: 0,
    resistance: 0,
    weight: 0,
    speedPenalty: -2,
    cost: 1400,
  }),
  armor({
    id: 'skill_ring',
    name: 'Skill Ring',
    description: 'Steadies aim and hand movement.',
    slot: ArmorSlot.Accessory,
    defense: 0,
    resistance: 1,
    weight: 0,
    speedPenalty: -1,
    cost: 1200,
  }),
  armor({
    id: 'strength_ring',
    name: 'Strength Ring',
    description: 'Heavy ring that boosts striking confidence.',
    slot: ArmorSlot.Accessory,
    defense: 1,
    resistance: 0,
    weight: 1,
    speedPenalty: 0,
    cost: 1300,
  }),
  armor({
    id: 'magic_ring',
    name: 'Magic Ring',
    description: 'Focuses ambient mana around the wearer.',
    slot: ArmorSlot.Accessory,
    defense: 0,
    resistance: 2,
    weight: 0,
    speedPenalty: 0,
    cost: 1300,
  }),
  armor({
    id: 'luck_charm',
    name: 'Luck Charm',
    description: 'A tiny charm said to avert disaster.',
    slot: ArmorSlot.Accessory,
    defense: 0,
    resistance: 1,
    weight: 0,
    speedPenalty: 0,
    cost: 700,
  }),
  armor({
    id: 'guard_amulet',
    name: 'Guard Amulet',
    description: 'A warding amulet for front line soldiers.',
    slot: ArmorSlot.Accessory,
    defense: 1,
    resistance: 1,
    weight: 0,
    speedPenalty: 0,
    cost: 850,
    setId: 'iron_set',
  }),
  armor({
    id: 'warding_amulet',
    name: 'Warding Amulet',
    description: 'Improves resistance to hostile spells.',
    slot: ArmorSlot.Accessory,
    defense: 0,
    resistance: 3,
    weight: 0,
    speedPenalty: 0,
    cost: 1250,
  }),
  armor({
    id: 'mobility_charm',
    name: 'Mobility Charm',
    description: 'Reduces movement drag from armor load.',
    slot: ArmorSlot.Accessory,
    defense: 0,
    resistance: 0,
    weight: 0,
    speedPenalty: -1,
    cost: 1000,
  }),
  armor({
    id: 'crit_charm',
    name: 'Crit Charm',
    description: 'A talisman sought by duelists.',
    slot: ArmorSlot.Accessory,
    defense: 1,
    resistance: 0,
    weight: 0,
    speedPenalty: 0,
    cost: 1100,
  }),
  armor({
    id: 'silver_emblem',
    name: 'Silver Emblem',
    description: 'A royal insignia from a complete silver kit.',
    slot: ArmorSlot.Accessory,
    defense: 2,
    resistance: 2,
    weight: 0,
    speedPenalty: 0,
    cost: 1800,
    setId: 'silver_set',
  }),
];

export function getArmorById(id: string): ArmorData | null {
  return ARMOR.find((entry) => entry.id === id) ?? null;
}

export function getArmorBySlot(slot: ArmorSlot): ArmorData[] {
  return ARMOR.filter((entry) => entry.slot === slot);
}

export function getAllArmor(): ArmorData[] {
  return [...ARMOR];
}
